{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yt988\\\\OneDrive\\\\Documents\\\\My\\\\Programming\\\\Social-Network\\\\src\\\\components\\\\Profile\\\\ProfileContainer.jsx\";\nimport React from 'react';\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport { getStatus, getUserProfile, savePhoto, saveProfile, updateStatus } from \"../../redux/profile-reducer\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nclass ProfileContainer extends React.Component {\n  refreshProfile() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n  }\n  componentDidMount() {\n    this.refreshProfile();\n  }\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\n      this.refreshProfile();\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(Profile, Object.assign({}, this.props, {\n      isOwner: !this.props.match.params.userId,\n      profile: this.props.profile,\n      status: this.props.status,\n      updateStatus: this.props.updateStatus,\n      savePhoto: this.props.savePhoto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }\n    }));\n  }\n}\nlet mapStateToProps = state => {\n  //console.log('mapStateToProps PROFILE')\n  return {\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n  };\n};\nexport default compose(connect(mapStateToProps, {\n  getUserProfile,\n  getStatus,\n  updateStatus,\n  savePhoto,\n  saveProfile\n}), withRouter)(ProfileContainer);","map":{"version":3,"names":["React","Profile","connect","getStatus","getUserProfile","savePhoto","saveProfile","updateStatus","withRouter","compose","ProfileContainer","Component","refreshProfile","userId","props","match","params","authorizedUserId","history","push","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","createElement","Object","assign","isOwner","profile","status","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mapStateToProps","state","profilePage","auth","isAuth"],"sources":["C:/Users/yt988/OneDrive/Documents/My/Programming/Social-Network/src/components/Profile/ProfileContainer.jsx"],"sourcesContent":["import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId ) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                    isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    //console.log('mapStateToProps PROFILE')\r\n    return ({\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    })\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer);\r\n\r\n\r\n\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAAQC,OAAO,QAAO,aAAa;AACnC,SAAQC,SAAS,EAAEC,cAAc,EAAEC,SAAS,EAAEC,WAAW,EAAEC,YAAY,QAAO,6BAA6B;AAC3G,SAAQC,UAAU,QAAO,kBAAkB;AAC3C,SAAQC,OAAO,QAAO,OAAO;AAE7B,MAAMC,gBAAgB,SAASV,KAAK,CAACW,SAAS,CAAC;EAE3CC,cAAcA,CAAA,EAAG;IACb,IAAIC,MAAM,GAAG,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,MAAM,CAACH,MAAM;IAC3C,IAAI,CAACA,MAAM,EAAE;MACTA,MAAM,GAAG,IAAI,CAACC,KAAK,CAACG,gBAAgB;MACpC,IAAI,CAACJ,MAAM,EAAE;QACT,IAAI,CAACC,KAAK,CAACI,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;MACrC;IACJ;IACA,IAAI,CAACL,KAAK,CAACV,cAAc,CAACS,MAAM,CAAC;IACjC,IAAI,CAACC,KAAK,CAACX,SAAS,CAACU,MAAM,CAAC;EAChC;EAEAO,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACR,cAAc,CAAC,CAAC;EACzB;EAEAS,kBAAkBA,CAACC,SAAS,EAAEC,SAAS,EAAEC,QAAQ,EAAE;IAC/C,IAAI,IAAI,CAACV,KAAK,CAACC,KAAK,CAACC,MAAM,CAACH,MAAM,IAAIS,SAAS,CAACP,KAAK,CAACC,MAAM,CAACH,MAAM,EAAG;MAClE,IAAI,CAACD,cAAc,CAAC,CAAC;IACzB;EACJ;EAEAa,MAAMA,CAAA,EAAG;IACL,oBACIzB,KAAA,CAAA0B,aAAA,CAACzB,OAAO,EAAA0B,MAAA,CAAAC,MAAA,KAAK,IAAI,CAACd,KAAK;MACfe,OAAO,EAAE,CAAC,IAAI,CAACf,KAAK,CAACC,KAAK,CAACC,MAAM,CAACH,MAAO;MACxCiB,OAAO,EAAE,IAAI,CAAChB,KAAK,CAACgB,OAAQ;MAC5BC,MAAM,EAAE,IAAI,CAACjB,KAAK,CAACiB,MAAO;MAC1BxB,YAAY,EAAE,IAAI,CAACO,KAAK,CAACP,YAAa;MACtCF,SAAS,EAAE,IAAI,CAACS,KAAK,CAACT,SAAU;MAAA2B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAC,CAAC;EAEnD;AACJ;AAEA,IAAIC,eAAe,GAAIC,KAAK,IAAK;EAC7B;EACA,OAAQ;IACJT,OAAO,EAAES,KAAK,CAACC,WAAW,CAACV,OAAO;IAClCC,MAAM,EAAEQ,KAAK,CAACC,WAAW,CAACT,MAAM;IAChCd,gBAAgB,EAAEsB,KAAK,CAACE,IAAI,CAAC5B,MAAM;IACnC6B,MAAM,EAAEH,KAAK,CAACE,IAAI,CAACC;EACvB,CAAC;AACL,CAAC;AAED,eAAejC,OAAO,CAClBP,OAAO,CAACoC,eAAe,EAAE;EAAClC,cAAc;EAAED,SAAS;EAAEI,YAAY;EAAEF,SAAS;EAAEC;AAAW,CAAC,CAAC,EAC3FE,UACJ,CAAC,CAACE,gBAAgB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}